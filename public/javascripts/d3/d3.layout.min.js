(function(){function z(a){return a.reduce(A,0)}function B(a){for(var h=1,d=0,c=a[0].y,i,f=a.length;h<f;++h)if((i=a[h].y)>c){d=h;c=i}return d}function A(a,h){return a+h.y}d3.layout={};d3.layout.chord=function(){function a(){var g={},m=[],s=d3.range(b),o=[],p,k,v,n,q;c=[];i=[];p=0;for(n=-1;++n<b;){k=0;for(q=-1;++q<b;)k+=f[n][q];m.push(k);o.push(d3.range(b));p+=k}j&&s.sort(function(w,t){return j(m[w],m[t])});l&&o.forEach(function(w,t){w.sort(function(C,D){return l(f[t][C],f[t][D])})});p=(2*Math.PI-e*
b)/p;k=0;for(n=-1;++n<b;){v=k;for(q=-1;++q<b;){var u=s[n],x=o[u][q],y=f[u][x];g[n+"-"+q]={index:u,subindex:x,startAngle:k,endAngle:k+=y*p,value:y}}i.push({index:u,startAngle:v,endAngle:k,value:(k-v)/p});k+=e}for(n=-1;++n<b;)for(q=n-1;++q<b;){s=g[n+"-"+q];o=g[q+"-"+n];if(s.value||o.value)c.push({source:s,target:o})}r&&h()}function h(){c.sort(function(g,m){g=Math.min(g.source.value,g.target.value);m=Math.min(m.source.value,m.target.value);return r(g,m)})}var d={},c,i,f,b,e=0,j,l,r;d.matrix=function(g){if(!arguments.length)return f;
b=(f=g)&&f.length;c=i=null;return d};d.padding=function(g){if(!arguments.length)return e;e=g;c=i=null;return d};d.sortGroups=function(g){if(!arguments.length)return j;j=g;c=i=null;return d};d.sortSubgroups=function(g){if(!arguments.length)return l;l=g;c=null;return d};d.sortChords=function(g){if(!arguments.length)return r;r=g;c&&h();return d};d.chords=function(){c||a();return c};d.groups=function(){i||a();return i};return d};d3.layout.stack=function(){function a(c){var i=c.length,f=c[0].length,b,
e,j,l=E[h](c);F[d](c,l);for(e=0;e<f;++e){b=1;for(j=c[l[0]][e].y0;b<i;++b)c[l[b]][e].y0=j+=c[l[b-1]][e].y}return c}var h="default",d="zero";a.order=function(c){if(!arguments.length)return h;h=c;return a};a.offset=function(c){if(!arguments.length)return d;d=c;return a};return a};var E={"inside-out":function(a){var h=a.length,d,c=a.map(B),i=a.map(z),f=d3.range(h).sort(function(r,g){return c[r]-c[g]}),b=0,e=0,j=[],l=[];for(a=0;a<h;a++){d=f[a];if(b<e){b+=i[d];j.push(d)}else{e+=i[d];l.push(d)}}return l.reverse().concat(j)},
reverse:function(a){return d3.range(a.length).reverse()},"default":function(a){return d3.range(a.length)}},F={silhouette:function(a,h){var d=a.length,c=a[0].length,i=[],f=0,b,e,j;for(e=0;e<c;++e){for(j=b=0;b<d;b++)j+=a[b][e].y;if(j>f)f=j;i.push(j)}e=0;for(b=h[0];e<c;++e)a[b][e].y0=(f-i[e])/2},wiggle:function(a,h){var d=a.length,c=a[0],i=c.length,f,b,e,j,l,r=h[0],g,m,s,o,p,k;a[r][0].y0=p=k=0;for(b=1;b<i;++b){for(g=f=0;f<d;++f)g+=a[f][b].y;m=f=0;for(o=c[b].x-c[b-1].x;f<d;++f){e=0;j=h[f];for(s=(a[j][b].y-
a[j][b-1].y)/(2*o);e<f;++e)s+=(a[l=h[e]][b].y-a[l][b-1].y)/o;m+=s*a[j][b].y}a[r][b].y0=p-=g?m/g*o:0;if(p<k)k=p}for(b=0;b<i;++b)a[r][b].y0-=k},zero:function(a,h){for(var d=0,c=a[0].length,i=h[0];d<c;++d)a[i][d].y0=0}}})();
